<ion-header class="ion-no-border head" mode="md">
  <ion-toolbar class="header-color">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/onboarding/preferences"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="content-body">
  <div class="progress-bar">
    <div class="step active"></div>
    <div class="step active"></div>
    <div class="step"></div>
    <div class="step"></div>
    <div class="step"></div>
  </div>
  <div class="container mx-auto p-4 w-full">
    <div>
      <h3 class="font-medium">
        Now add your <span class="text-[#005B82]">Next of Kin</span> details
      </h3>
    </div>
  </div>

<div class="form-item">
  <form   [formGroup]="authForm" style="">
    <div class="uk-margin-small-bottom">
      <ion-item lines="none" mode="md">
          <ion-label position="stacked" class="labels" style="transform: translateY(30%) scale(0.75) !important; font-size: 20px !important;">First name <span class="uk-text-danger" >*</span>
          </ion-label>
          <ion-input name="firstName" maxlength="35" type="text" formControlName="firstName" label="">
          </ion-input>
      </ion-item>
      <div class="validation-error uk-text-danger">
          <small class="error-message"
              *ngIf="f['firstName'].hasError('required') && f['firstName'].dirty">
              <ion-icon name="information-circle-outline"></ion-icon>First name is required
          </small>
      </div>
    </div>
     <!-- Last name -->
    <div class="uk-margin-small-bottom">
      <ion-item lines="none" mode="md">
          <ion-label position="stacked" class="labels" style="transform: translateY(30%) scale(0.75) !important; font-size: 20px !important;" >Last name <span class="uk-text-danger">*</span>
          </ion-label>
          <ion-input name="lastName" maxlength="35" type="text" formControlName="lastName"  label="">
          </ion-input>
      </ion-item>
      <div class="validation-error uk-text-danger">
          <small class="error-message"
              *ngIf="f['lastName'].hasError('required') && f['lastName'].dirty">
              <ion-icon name="information-circle-outline"></ion-icon>Last name is required
          </small>
      </div>
    </div>
    <div class="uk-margin-small-bottom" style="margin-left: 15px; margin-right: 15px !important; margin-top: 15px;">
      <ion-label position="stacked" class="labels" style="font-size: 15px !important;">Phone Number <span class="uk-text-danger">*</span></ion-label>
      <ngx-intl-tel-input
      [cssClass]="'custom'"
      formControlName="phone"
      [preferredCountries]="[CountryISO.Kenya, CountryISO.Uganda, CountryISO.Rwanda]"
      [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
      [enableAutoCountrySelect]="false"
      [enablePlaceholder]="true"
      [customPlaceholder]="'0700 000 000'"
      [searchCountryFlag]="true"
      [separateDialCode]="false"
      [selectedCountryISO]="CountryISO.Kenya"
      ></ngx-intl-tel-input>
        <div class="validation-error uk-text-danger">
          <small class="error-message"
              *ngIf="f['phone'].hasError('required') && f['phone'].dirty && f['phone'].touched">
              <ion-icon name="information-circle-outline"></ion-icon>Phone number is required
          </small>
      </div>
    </div>

    <div class="uk-margin-small-bottom">
      <ion-item lines="none" mode="md">
        <ion-label position="stacked" class="labels" style="transform: translateY(30%) scale(0.75) !important; font-size: 20px !important;">Relationship<span class="uk-text-danger" >*</span>
        </ion-label>
        <ionic-selectable
          formControlName="relationship"
          [items]="relationships"
          itemValueField="relationCode"
          [hasInfiniteScroll]="true"
          placeholder="Select"
          [isEnabled]="true"
          itemTextField="text"
          [canSearch]="true"
          (onChange)="relationshipChange($event)">
        </ionic-selectable>
      </ion-item>
    </div>

 <br>
  <div style="margin-top: 30px;" class="p-4">
    <ion-button class="text-[#000]" size="medium" mode="md"
    (click)="savePreference()"
    expand="block"
    fill="solid"
    [disabled]="!authForm.valid"
    >
    {{ loader.loading ? '' : 'Continue'}}
    <ion-spinner *ngIf="loader.loading" name="circular" color="secondary"></ion-spinner>
  </ion-button>
  </div>



  </form>

</div>

</ion-content>
